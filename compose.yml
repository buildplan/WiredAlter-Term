services:
  wiredalter-term:
    build: .
    # use this pre-build image from this repo or build your own
    # image: ghcr.io/buildplan/wiredalter-term:latest 
    container_name: wiredalter-term
    hostname: wiredterm  # you can change this whatever you want to see in terminal
    ports:
      - "127.0.0.1:3939:3939"
    volumes:
      - term-data:/data
      - /var/run/docker.sock:/var/run/docker.sock # mount Docker sock for host docker management in the terminal
      - tailscale-data:/var/lib/tailscale # Persist Tailscale state (keys/identity)
    environment:
      - NODE_ENV=production
      - PIN=324252             # <--- Change this
      - SESSION_SECRET=sup3r_s3cr3t_k3y_chang3_m3 # <--- Change this
      - TAILSCALE_AUTH_KEY=tskey-auth-xxxxxx-xxxxxx # <--- Generate this at: https://login.tailscale.com/admin/settings/keys
    restart: unless-stopped

volumes:
  term-data:
  tailscale-data: